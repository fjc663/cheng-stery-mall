import{u as v}from"./useUser-aX2g__mo.js";import{d as P,e as u,h as b,b as m,a as s,w as r,r as d,o as V,f as y,D as x,_ as k}from"./index-CMV7StrB.js";import"./http-Bo0dlXKR.js";import"./axios-BimPEqV4.js";import"./useCartItemsNumStore-BpwacNS2.js";import"./userApi-CmX0eGrO.js";import"./httpAdmin-C6IWq_Ob.js";const C={class:"password-change-page"},E=P({__name:"EditPassword",setup(U){const i=u(),o=u({oldPassword:"",newPassword:"",confirmPassword:""}),p=u({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"},{min:6,max:18,message:"密码长度应为 6 到 18 个字符",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,message:"密码长度应为 6 到 18 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:(t,e,l)=>{e!==o.value.newPassword?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]}),{editPassword:f}=v(),w=t=>{t&&t.validate(async e=>{if(e)f(o.value);else return x.error("请输入正确格式"),!1})};return(t,e)=>{const l=d("el-input"),n=d("el-form-item"),c=d("el-button"),_=d("el-form"),g=d("el-card");return V(),b("div",C,[e[6]||(e[6]=m("div",{class:"background-overlay"},null,-1)),s(g,{class:"password-card",shadow:"hover"},{default:r(()=>[e[5]||(e[5]=m("h1",{class:"password-change-title"},"修改密码",-1)),s(_,{model:o.value,rules:p.value,ref_key:"formRef",ref:i,"label-width":"100px",class:"password-form"},{default:r(()=>[s(n,{label:"旧密码",prop:"oldPassword"},{default:r(()=>[s(l,{modelValue:o.value.oldPassword,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.oldPassword=a),type:"password",placeholder:"请输入旧密码",class:"input-field"},null,8,["modelValue"])]),_:1}),s(n,{label:"新密码",prop:"newPassword"},{default:r(()=>[s(l,{modelValue:o.value.newPassword,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.newPassword=a),type:"password",placeholder:"请输入新密码",class:"input-field"},null,8,["modelValue"])]),_:1}),s(n,{label:"确认密码",prop:"confirmPassword"},{default:r(()=>[s(l,{modelValue:o.value.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.confirmPassword=a),type:"password",placeholder:"请再次输入新密码",class:"input-field"},null,8,["modelValue"])]),_:1}),s(n,null,{default:r(()=>[s(c,{type:"primary",onClick:e[3]||(e[3]=a=>w(t.$refs.formRef)),class:"submit-btn"},{default:r(()=>e[4]||(e[4]=[y("修改")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}}),I=k(E,[["__scopeId","data-v-7506b7a2"]]);export{I as default};
