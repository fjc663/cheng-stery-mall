import{d as b,i as B,c,w as t,j as D,r as s,o as n,a as l,b as o,u as f,h as V,l as $,t as d,f as N,F as L,_ as S}from"./index-CMV7StrB.js";import{u as j}from"./useFavorites-DvnhUBEH.js";import"./http-Bo0dlXKR.js";import"./axios-BimPEqV4.js";const q=["src","onClick"],z={class:"product-info"},A=["onClick"],E={class:"price"},I={class:"created-at"},M={class:"action-buttons"},R=b({__name:"FavoritesView",setup(T){const{favoritesProducts:i,getFavoritesProduct:v,deleteFavoritesProduct:g}=j(),h=D(),u=()=>{v()},k=async r=>{await g(r),u()},_=r=>{h.push({path:`/productDetail/${r}`,query:{isDisplayBreadcrumb:0}})};return B(()=>{u()}),(r,a)=>{const w=s("el-header"),F=s("el-button"),y=s("el-card"),C=s("el-col"),x=s("el-row"),p=s("el-main"),P=s("el-container");return n(),c(P,{class:"favorite-products-page"},{default:t(()=>[l(w,null,{default:t(()=>a[0]||(a[0]=[o("h1",null,"我的收藏",-1)])),_:1}),f(i).length>0?(n(),c(p,{key:0},{default:t(()=>[l(x,{gutter:20},{default:t(()=>[(n(!0),V(L,null,$(f(i),e=>(n(),c(C,{key:e.product.id,span:6},{default:t(()=>[l(y,{class:"product-card",shadow:"hover"},{default:t(()=>[o("img",{src:e.product.imageUrl,alt:"商品图片",class:"product-image",onClick:m=>_(e.product.id)},null,8,q),o("div",z,[o("h3",{class:"product-name",onClick:m=>_(e.product.id)},d(e.product.name),9,A),o("p",E,"￥"+d(e.product.price.toFixed(2)),1),o("p",I,"收藏时间: "+d(new Date(e.createdAt).toLocaleString()),1)]),o("div",M,[l(F,{type:"danger",size:"small",onClick:m=>k(e.product.id)},{default:t(()=>a[1]||(a[1]=[N("移除收藏")])),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(n(),c(p,{key:1},{default:t(()=>a[2]||(a[2]=[o("p",{class:"empty-message"},"您还没有收藏任何商品！",-1)])),_:1}))]),_:1})}}}),K=S(R,[["__scopeId","data-v-6df2752f"]]);export{K as default};
